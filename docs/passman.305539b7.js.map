{"mappings":"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","sources":["<anon>","script.js","pass-manager.js"],"sourcesContent":["const $48598660c35a388b$var$SERVICE_UUID = '6fe56dde-8e9b-45c5-96ee-7c8aea360a94';\nconst $48598660c35a388b$var$CHARACTERISTIC_UUID = '46017b0a-60bd-4d8d-9fd9-22d15de3ae0f';\nclass $48598660c35a388b$export$82cdbd055244e22c {\n    constructor(){}\n    bluetoothDevice = null;\n    async init() {\n        try {\n            var deviceOptions = {\n                optionalServices: [\n                    $48598660c35a388b$var$SERVICE_UUID,\n                    $48598660c35a388b$var$CHARACTERISTIC_UUID,\n                    0xfe95,\n                    0x1f10\n                ],\n                acceptAllDevices: true\n            };\n            const hideUnknown = false; //document.getElementById('hideUnknown').checked;\n            const namePrefix = false; //document.getElementById('namePrefix').value;\n            if (hideUnknown) {\n                deviceOptions.acceptAllDevices = false;\n                deviceOptions.filters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz\".split(\"\").map((x)=>({\n                        namePrefix: x\n                    }));\n            }\n            if (namePrefix) {\n                deviceOptions.acceptAllDevices = false;\n                deviceOptions.filters = namePrefix.split(\",\").map((x)=>({\n                        namePrefix: x\n                    }));\n            }\n            console.log(deviceOptions);\n            if (this.bluetoothDevice != null) this.bluetoothDevice.gatt.disconnect();\n            // resetVariables();\n            // addLog(\"Searching for devices\");\n            // connectTrys = 0;\n            const device = await navigator.bluetooth.requestDevice(deviceOptions);\n            this.bluetoothDevice = device;\n            // catchAdvertisement(device);\n            // bluetoothDevice.addEventListener('gattserverdisconnected', onDisconnected);\n            // addLog(\"Connecting to: \" + bluetoothDevice.name);\n            await this.connect();\n        } catch (e) {\n            this.handleError(e);\n        }\n    }\n    handleCharacteristicChange(event) {\n        const newValueReceived = new TextDecoder().decode(event.target.value);\n        console.warn(\"Characteristic value changed: \", newValueReceived);\n    // retrievedValue.innerHTML = newValueReceived;\n    // timestampContainer.innerHTML = getDateTime();\n    }\n    async connect() {\n        try {\n            const server = await this.bluetoothDevice.gatt.connect();\n            // addClog(\"Found GATT server\");\n            this.gattServer = server;\n            this.service = await this.gattServer.getPrimaryService($48598660c35a388b$var$SERVICE_UUID);\n            // addClog(\"Found service\");\n            this.characteristic = await this.service.getCharacteristic($48598660c35a388b$var$CHARACTERISTIC_UUID);\n            await this.characteristic.startNotifications();\n            this.characteristic.addEventListener('characteristicvaluechanged', (event)=>{\n                this.handleCharacteristicChange(event);\n                const decoder = new TextDecoder('utf-8');\n                const stringValue = decoder.decode(event.target.value);\n                const value = stringValue;\n                // if(value.startsWith('remove_')) {\n                //     return;\n                // }\n                // Process the received data (e.g., as a DataView or ArrayBuffer)\n                console.log('Characteristic value changed:', value);\n                const parsed = value.split('\\n');\n                window.currentPwdServiceName.value = parsed[0];\n                window.currentPwdLogin.value = parsed[1];\n                const ruleLimits = parsed[2];\n                const rule = ruleLimits.split('||')[0];\n                window.currentPwdPasswordRuleMinLength.value = \"\";\n                window.currentPwdPasswordRuleMaxLength.value = \"\";\n                if (ruleLimits.split('||')[1]) {\n                    window.currentPwdPasswordRuleMinLength.value = ruleLimits.split('||')[1].split('-')[0];\n                    window.currentPwdPasswordRuleMaxLength.value = ruleLimits.split('||')[1].split('-')[1];\n                }\n                window.currentPwdPasswordRule.value = rule;\n                if (stringValue.trim()) {\n                    document.body.classList.remove('show-create');\n                    document.body.classList.add('show-update');\n                } else {\n                    document.body.classList.add('show-create');\n                    document.body.classList.remove('show-update');\n                }\n                console.log(`Value as String: ${stringValue}`);\n            // Example: Read as an integer\n            // const intValue = value.getInt16(0, true); // little-endian\n            // console.log('Integer value:', intValue);\n            });\n            const data = new TextEncoder().encode('request');\n            this.characteristic.writeValueWithoutResponse(data);\n        } catch (e) {\n            this.handleError(e);\n        }\n    }\n    async submitUpdate() {\n        const characteristic = await this.service.getCharacteristic($48598660c35a388b$var$CHARACTERISTIC_UUID);\n        console.log(\"Found the LED characteristic: \", characteristic.uuid);\n        let rule = window.currentPwdServiceName.value || 'rnd1';\n        if (window.currentPwdPasswordRuleMinLength.value || window.currentPwdPasswordRuleMaxLength.value) {\n            if (!window.currentPwdPasswordRuleMinLength.value || !window.currentPwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||' + window.currentPwdPasswordRuleMinLength.value + '-' + window.currentPwdPasswordRuleMaxLength.value;\n        }\n        const data = new TextEncoder().encode('update\\n' + window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule);\n        characteristic.writeValueWithoutResponse(data);\n    }\n    async submit() {\n        const characteristic = await this.service.getCharacteristic($48598660c35a388b$var$CHARACTERISTIC_UUID);\n        console.log(\"Found the LED characteristic: \", characteristic.uuid);\n        let rule = window.pwdPasswordRule.value || 'rnd1';\n        if (window.pwdPasswordRuleMinLength.value || window.pwdPasswordRuleMaxLength.value) {\n            if (!window.pwdPasswordRuleMinLength.value || !window.pwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||' + window.pwdPasswordRuleMinLength.value + '-' + window.pwdPasswordRuleMaxLength.value;\n        }\n        const data = new TextEncoder().encode('create\\n' + window.pwdServiceName.value + '\\n' + window.pwdLogin.value + '\\n' + rule + '\\n' + window.pwdPassword.value);\n        characteristic.writeValueWithoutResponse(data);\n        window.pwdServiceName.value = '';\n        window.pwdLogin.value = '';\n        window.pwdPassword.value = '';\n        window.pwdPasswordRule.value = '';\n        window.pwdPasswordRuleMinLength.value = '';\n        window.pwdPasswordRuleMaxLength.value = '';\n    }\n    async deleteItem() {\n        let rule = window.currentPwdPasswordRule.value || 'rnd1';\n        if (window.currentPwdPasswordRuleMinLength.value || window.currentPwdPasswordRuleMaxLength.value) {\n            if (!window.currentPwdPasswordRuleMinLength.value || !window.currentPwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||' + window.currentPwdPasswordRuleMinLength.value + '-' + window.currentPwdPasswordRuleMaxLength.value;\n        }\n        console.warn('remove_' + (window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule));\n        const data = new TextEncoder().encode('remove_' + (window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule));\n        this.characteristic.writeValueWithoutResponse(data);\n    }\n    handleError(e) {\n        console.error(e);\n    }\n}\n\n\nconst $c1ce9d969bfa6909$var$pwdMan = new (0, $48598660c35a388b$export$82cdbd055244e22c)();\nwindow.pwdStart.addEventListener(\"click\", ()=>{\n    $c1ce9d969bfa6909$var$pwdMan.init();\n}, false);\nwindow.tabCreate.addEventListener(\"click\", ()=>{\n    document.body.classList.add('show-create');\n    document.body.classList.remove('show-update');\n}, false);\nwindow.tabUpdate.addEventListener(\"click\", ()=>{\n    document.body.classList.remove('show-create');\n    document.body.classList.add('show-update');\n}, false);\nlet $c1ce9d969bfa6909$var$last = Date.now();\nwindow.createForm.addEventListener(\"submit\", (evt)=>{\n    evt.preventDefault();\n    if (Date.now() > $c1ce9d969bfa6909$var$last + 3000) $c1ce9d969bfa6909$var$pwdMan.submit();\n    $c1ce9d969bfa6909$var$last = Date.now();\n});\nwindow.updateForm.addEventListener(\"submit\", (evt)=>{\n    evt.preventDefault();\n    if (Date.now() > $c1ce9d969bfa6909$var$last + 3000) $c1ce9d969bfa6909$var$pwdMan.submit();\n    $c1ce9d969bfa6909$var$last = Date.now();\n});\nwindow.pwdDelete.addEventListener(\"click\", (evt)=>{\n    evt.preventDefault();\n    if (confirm('Are you sure to delete the item?')) setTimeout(()=>{\n        $c1ce9d969bfa6909$var$pwdMan.deleteItem();\n    }, 1000);\n});\n\n\n//# sourceMappingURL=passman.305539b7.js.map\n","import {PassManagerBLE} from \"./pass-manager\"\n\nconst pwdMan = new PassManagerBLE();\n\n\nwindow.pwdStart.addEventListener(\"click\", () => {\n    pwdMan.init();\n}, false);\n\nwindow.tabCreate.addEventListener(\"click\", () => {\n    document.body.classList.add('show-create');\n    document.body.classList.remove('show-update');\n}, false);\n\nwindow.tabUpdate.addEventListener(\"click\", () => {\n    document.body.classList.remove('show-create');\n    document.body.classList.add('show-update');\n}, false);\n\nlet last = Date.now();\nwindow.createForm.addEventListener(\"submit\", (evt) => {\n    evt.preventDefault();\n    if(Date.now() > last + 3000) {\n\n        pwdMan.submit();\n    \n    }\n    last = Date.now();\n});\n\nwindow.updateForm.addEventListener(\"submit\", (evt) => {\n    evt.preventDefault();\n    if (Date.now() > last + 3000) {\n        pwdMan.submit();\n    }\n    last = Date.now();\n});\nwindow.pwdDelete.addEventListener(\"click\", (evt) => {\n    evt.preventDefault();\n    if (confirm('Are you sure to delete the item?')) {\n        setTimeout(() => {\n            pwdMan.deleteItem();\n        },1000);\n    }\n});\n","const SERVICE_UUID = '6fe56dde-8e9b-45c5-96ee-7c8aea360a94';\nconst CHARACTERISTIC_UUID = '46017b0a-60bd-4d8d-9fd9-22d15de3ae0f';\nexport class PassManagerBLE {\n    constructor() {\n\n    }\n\n    bluetoothDevice = null;\n\n    async init (){\n        try {\n            var deviceOptions = {\n                optionalServices: [SERVICE_UUID, CHARACTERISTIC_UUID, 0xfe95, 0x1f10],\n                acceptAllDevices: true,\n            };\n            const hideUnknown = false;//document.getElementById('hideUnknown').checked;\n            const namePrefix = false;//document.getElementById('namePrefix').value;\n            if (hideUnknown) {\n                deviceOptions.acceptAllDevices = false;\n                deviceOptions.filters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz\"\n                    .split(\"\")\n                    .map((x) => ({ namePrefix: x }));\n            }\n            if (namePrefix) {\n                deviceOptions.acceptAllDevices = false;\n                deviceOptions.filters = namePrefix.split(\",\")\n                    .map((x) => ({ namePrefix: x }));\n            }\n\n\n            console.log(deviceOptions)\n\n            if (this.bluetoothDevice != null) this.bluetoothDevice.gatt.disconnect();\n            // resetVariables();\n            // addLog(\"Searching for devices\");\n            // connectTrys = 0;\n            const device = await navigator.bluetooth.requestDevice(deviceOptions)\n            this.bluetoothDevice = device;\n                // catchAdvertisement(device);\n                // bluetoothDevice.addEventListener('gattserverdisconnected', onDisconnected);\n                // addLog(\"Connecting to: \" + bluetoothDevice.name);\n            await this.connect();\n        } catch(e) {\n            this.handleError(e)\n        }\n    }\n\n\n     handleCharacteristicChange(event){\n        const newValueReceived = new TextDecoder().decode(event.target.value);\n        console.warn(\"Characteristic value changed: \", newValueReceived);\n        // retrievedValue.innerHTML = newValueReceived;\n        // timestampContainer.innerHTML = getDateTime();\n    }\n\n\n    async connect() {\n\n        try {\n            const server = await this.bluetoothDevice.gatt.connect()\n\n            // addClog(\"Found GATT server\");\n            this.gattServer = server;\n            this.service = await this.gattServer.getPrimaryService(SERVICE_UUID);\n            // addClog(\"Found service\");\n            this.characteristic = await this.service.getCharacteristic(CHARACTERISTIC_UUID);\n            await this.characteristic.startNotifications();\n            this.characteristic.addEventListener('characteristicvaluechanged', (event) => {\n                this.handleCharacteristicChange(event);\n                const decoder = new TextDecoder('utf-8');\n                const stringValue = decoder.decode(event.target.value);\n                const value = stringValue;\n                // if(value.startsWith('remove_')) {\n                //     return;\n                // }\n                // Process the received data (e.g., as a DataView or ArrayBuffer)\n                console.log('Characteristic value changed:', value);\n                const parsed = value.split('\\n');\n                window.currentPwdServiceName.value = parsed[0];\n                window.currentPwdLogin.value = parsed[1];\n                const ruleLimits = parsed[2];\n                const rule = ruleLimits.split('||')[0];\n                window.currentPwdPasswordRuleMinLength.value = \"\";\n                window.currentPwdPasswordRuleMaxLength.value = \"\";\n                if(ruleLimits.split('||')[1]) {\n                    window.currentPwdPasswordRuleMinLength.value = ruleLimits.split('||')[1].split('-')[0];\n                    window.currentPwdPasswordRuleMaxLength.value =  ruleLimits.split('||')[1].split('-')[1];\n\n                }\n                window.currentPwdPasswordRule.value = rule;\n                if (stringValue.trim()) {\n\n                    document.body.classList.remove('show-create');\n                    document.body.classList.add('show-update');\n\n                } else {\n\n                    document.body.classList.add('show-create');\n                    document.body.classList.remove('show-update');\n\n                }\n                console.log(`Value as String: ${stringValue}`);\n                // Example: Read as an integer\n                // const intValue = value.getInt16(0, true); // little-endian\n                // console.log('Integer value:', intValue);\n            });\n            const data = new TextEncoder().encode('request');\n            this.characteristic.writeValueWithoutResponse(data);\n\n        }catch(e) {\n            this.handleError(e)\n\n        }\n    }\n\n    async submitUpdate() {\n        const characteristic = await this.service.getCharacteristic(CHARACTERISTIC_UUID);\n        \n        console.log(\"Found the LED characteristic: \", characteristic.uuid);\n        let rule = window.currentPwdServiceName.value || 'rnd1';\n        if (window.currentPwdPasswordRuleMinLength.value || window.currentPwdPasswordRuleMaxLength.value) {\n            if(!window.currentPwdPasswordRuleMinLength.value || !window.currentPwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||'+ window.currentPwdPasswordRuleMinLength.value +'-'+ window.currentPwdPasswordRuleMaxLength.value;\n        }\n        const data = new TextEncoder().encode('update\\n' + window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule);\n            characteristic.writeValueWithoutResponse(data);\n    }\n\n    async submit() {\n        const characteristic = await this.service.getCharacteristic(CHARACTERISTIC_UUID);\n        \n        console.log(\"Found the LED characteristic: \", characteristic.uuid);\n        let rule = window.pwdPasswordRule.value || 'rnd1';\n        if (window.pwdPasswordRuleMinLength.value || window.pwdPasswordRuleMaxLength.value) {\n            if(!window.pwdPasswordRuleMinLength.value || !window.pwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||'+ window.pwdPasswordRuleMinLength.value +'-'+ window.pwdPasswordRuleMaxLength.value;\n        }\n        const data = new TextEncoder().encode('create\\n' + window.pwdServiceName.value + '\\n' + window.pwdLogin.value + '\\n' + rule + '\\n' + window.pwdPassword.value);\n            characteristic.writeValueWithoutResponse(data);\n\nwindow.pwdServiceName.value = '';\nwindow.pwdLogin.value = '';\nwindow.pwdPassword.value = '';\nwindow.pwdPasswordRule.value = '';\nwindow.pwdPasswordRuleMinLength.value = '';\nwindow.pwdPasswordRuleMaxLength.value = '';\n    }\n\n    async deleteItem() {\n            \n        let rule = window.currentPwdPasswordRule.value || 'rnd1';\n        if (window.currentPwdPasswordRuleMinLength.value || window.currentPwdPasswordRuleMaxLength.value) {\n            if(!window.currentPwdPasswordRuleMinLength.value || !window.currentPwdPasswordRuleMaxLength.value) {\n                alert('wrong pwd rule range');\n                return;\n            }\n            rule += '||'+ window.currentPwdPasswordRuleMinLength.value +'-'+ window.currentPwdPasswordRuleMaxLength.value;\n        }\n            console.warn('remove_'+ (window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule));\n            const data = new TextEncoder().encode('remove_'+ (window.currentPwdServiceName.value + '\\n' + window.currentPwdLogin.value + '\\n' + rule));\n            this.characteristic.writeValueWithoutResponse(data);\n        \n    }\n\n    handleError(e) {\n        console.error(e);\n\n    }\n}"],"names":["$48598660c35a388b$var$SERVICE_UUID","$48598660c35a388b$var$CHARACTERISTIC_UUID","$c1ce9d969bfa6909$var$pwdMan","bluetoothDevice","init","deviceOptions","optionalServices","acceptAllDevices","console","log","gatt","disconnect","device","navigator","bluetooth","requestDevice","connect","e","handleError","handleCharacteristicChange","event","warn","TextDecoder","decode","target","value","server","gattServer","service","getPrimaryService","characteristic","getCharacteristic","startNotifications","addEventListener","stringValue","decoder","parsed","split","window","currentPwdServiceName","currentPwdLogin","ruleLimits","rule","currentPwdPasswordRuleMinLength","currentPwdPasswordRuleMaxLength","currentPwdPasswordRule","trim","document","body","classList","remove","add","data","TextEncoder","encode","writeValueWithoutResponse","submitUpdate","uuid","alert","submit","pwdPasswordRule","pwdPasswordRuleMinLength","pwdPasswordRuleMaxLength","pwdServiceName","pwdLogin","pwdPassword","deleteItem","error","pwdStart","tabCreate","tabUpdate","$c1ce9d969bfa6909$var$last","Date","now","createForm","evt","preventDefault","updateForm","pwdDelete","confirm","setTimeout"],"version":3,"file":"passman.305539b7.js.map"}